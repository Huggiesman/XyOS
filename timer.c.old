#include "timer.h"

void Timer_enable() {
  set(TIMER_CONTROL, TIMER_CONTROL_ENABLE);
}

int Timer_isEnabled() {
  int val = get(TIMER_CONTROL);
  if (val & (1 << 7)) {
  	return 1;
  } else {
  	return 0;
  }
}

int Timer_interrupted() {
  return get(TIMER_RAW_IRQ);
}

int Timer_getValue() {
  return get(TIMER_VALUE);
}

void countdown(uint32_t seconds) {
  int countdown = seconds*TIMER_FREQ;
  set(TIMER_LOAD, countdown);
  while(Timer_getValue() != 0) {} 
}
