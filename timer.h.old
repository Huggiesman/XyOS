#ifndef _TIMER_H_
#define _TIMER_H_

#include "mmap_io.h"

enum {
  TIMER_BASE = MMAP_IO_BASE + 0xB400,
  TIMER_LOAD = TIMER_BASE,
  TIMER_VALUE = TIMER_BASE + 0x4,
  TIMER_CONTROL = TIMER_BASE + 0x8,
  TIMER_IRQ_ACK = TIMER_BASE + 0xC,
  TIMER_RAW_IRQ = TIMER_BASE + 0x10,
  TIMER_MASK_IRQ = TIMER_BASE + 0x14,
  TIMER_FREQ = 10000
};

enum {
  TIMER_CONTROL_ENABLE = 0x3E00aa,
};

void Timer_enable();
int Timer_isEnabled();
int Timer_interrupted();
int Timer_getValue();
void countdown(uint32_t seconds);
#endif
